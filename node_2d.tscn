[gd_scene load_steps=20 format=3 uid="uid://5f5uhnskphmk"]

[ext_resource type="Texture2D" uid="uid://bh3dj1dlrc733" path="res://sprites/grasstile5-Sheet.png" id="1_1gv4k"]
[ext_resource type="Texture2D" uid="uid://c3gk7p688hv8e" path="res://sprites/water-sheet.png" id="1_vs51o"]
[ext_resource type="Script" path="res://Cursor.gd" id="2_mmgio"]
[ext_resource type="Script" path="res://Character.gd" id="2_orlut"]
[ext_resource type="Script" path="res://enemy.gd" id="3_b3x52"]
[ext_resource type="Texture2D" uid="uid://b1xde5yrajtxi" path="res://sprites/satan.png" id="3_t7qe6"]
[ext_resource type="Texture2D" uid="uid://dcqktjylt20g2" path="res://sprites/cursor.png" id="3_w56al"]
[ext_resource type="Script" path="res://AnimatedSprite2D.gd" id="4_vejum"]
[ext_resource type="Texture2D" uid="uid://dq5dwv0v4oxbh" path="res://sprites/knight.png" id="5_e00kp"]
[ext_resource type="Script" path="res://Pathfinding.gd" id="7_tpcjv"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_klps5"]
texture = ExtResource("1_vs51o")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
8:0/0 = 0
9:0/0 = 0
10:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_0vmy4"]
texture = ExtResource("1_1gv4k")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
1:0/0 = 0
1:0/0/custom_data_0 = true
1:0/0/custom_data_1 = 2.0
2:0/0 = 0
2:0/0/custom_data_0 = true
2:0/0/custom_data_1 = 2.0
3:0/0 = 0
3:0/0/custom_data_0 = true
3:0/0/custom_data_1 = 2.0
4:0/0 = 0
4:0/0/custom_data_0 = true
4:0/0/custom_data_1 = 3.0
5:0/0 = 0
5:0/0/custom_data_0 = true
5:0/0/custom_data_1 = 3.0
6:0/0 = 0
6:0/0/custom_data_0 = true
6:0/0/custom_data_1 = 1.0
7:0/0 = 0
7:0/0/custom_data_0 = true
7:0/0/custom_data_1 = 1.0
8:0/0 = 0
9:0/0 = 0
9:0/0/custom_data_0 = true
9:0/0/custom_data_1 = 1.0
10:0/0 = 0
10:0/0/custom_data_0 = true
10:0/0/custom_data_1 = 1.0
11:0/0 = 0
11:0/0/custom_data_0 = true
11:0/0/custom_data_1 = 1.0
12:0/0 = 0
12:0/0/custom_data_0 = true
12:0/0/custom_data_1 = 1.0

[sub_resource type="TileSet" id="TileSet_4den7"]
tile_size = Vector2i(64, 64)
custom_data_layer_0/name = "walkable"
custom_data_layer_0/type = 1
custom_data_layer_1/name = "Cost"
custom_data_layer_1/type = 3
sources/1 = SubResource("TileSetAtlasSource_klps5")
sources/2 = SubResource("TileSetAtlasSource_0vmy4")

[sub_resource type="SpriteFrames" id="SpriteFrames_2e5gl"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_t7qe6")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_6hxa4"]

[sub_resource type="SpriteFrames" id="SpriteFrames_lc3ap"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_e00kp")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_ms5fv"]

[sub_resource type="SpriteFrames" id="SpriteFrames_04mv1"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_w56al")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="GDScript" id="GDScript_vfnxh"]
script/source = "extends Node#class PriorityQueue:
#	var _sortedItems = {}
#
#	func _get_count():
#		var count = 0
#		for pair in _sortedItems.values():
#			count += pair.size()
#		return count
#
#	func contains(item):
#		for pair in _sortedItems.values():
#			if pair.find(item) != -1:
#				return true
#		return false
#
#	func enqueue(item, priority):
#		if not _sortedItems.has(priority):
#			_sortedItems[priority] = []
#
#		_sortedItems[priority].append(item)
#
#	func dequeue():
#		var keys = _sortedItems.keys()
#		if keys.size() == 0:
#			return null
#
#		var min_key = keys[0]
#		for key in keys:
#			if key < min_key:
#				min_key = key
#
#		var queue = _sortedItems[min_key]
#		var item = queue.pop_front()
#		if queue.size() == 0:
#			_sortedItems.erase(min_key)
#		return item
"

[node name="Main" type="Node2D"]

[node name="theGrid" type="TileMap" parent="."]
position = Vector2(1, 0)
tile_set = SubResource("TileSet_4den7")
cell_quadrant_size = 64
format = 2
layer_0/tile_data = PackedInt32Array(6, 131074, 0, 7, 65538, 0, 8, 131074, 0, 9, 131074, 0, 10, 196610, 0, 65546, 65538, 0, 131082, 131074, 0, 196618, 65538, 0, 262154, 131074, 0, 327690, 131074, 0, 393226, 131074, 0, 458762, 131074, 0, 524298, 65538, 0, 589834, 196610, 0, 589833, 131074, 0, 589832, 65538, 0, 589831, 65538, 0, 589830, 65538, 0, 589829, 65538, 0, 589828, 65538, 0, 589827, 65538, 0, 589826, 65538, 0, 589825, 196610, 0, 589824, 196610, 0, 524288, 65538, 0, 458752, 65538, 0, 393216, 196610, 0, 327680, 196610, 0, 262144, 196610, 0, 196608, 65538, 0, 131072, 65538, 0, 65536, 65538, 0, 65540, 65538, 0, 65539, 65538, 0, 65538, 65538, 0, 65537, 65538, 0, 131073, 196610, 0, 196609, 65538, 0, 262145, 131074, 0, 327681, 131074, 0, 393217, 131074, 0, 458753, 196610, 0, 524289, 196610, 0, 524290, 65538, 0, 458754, 65538, 0, 393218, 65538, 0, 196610, 65538, 0, 131074, 65538, 0, 393219, 524290, 0, 458755, 524290, 0, 524291, 131074, 0, 524292, 655362, 0, 65542, 458753, 0, 524293, 458754, 0, 524294, 589826, 0, 65543, 65538, 0, 65544, 65538, 0, 131080, 65538, 0, 458760, 65538, 0, 458759, 2, 0, 524295, 196610, 0, 524296, 65538, 0, 524297, 196610, 0, 458761, 65538, 0, 393225, 196610, 0, 327689, 196610, 0, 262153, 65538, 0, 196617, 131074, 0, 131081, 196610, 0, 65545, 196610, 0, 327685, 458754, 0, 262151, 196610, 0, 327687, 2, 0, 327686, 393218, 0, 262150, 65538, 0, 262149, 786434, 0, 262146, 65538, 0, 327682, 65538, 0, 131079, 196610, 0, 196616, 262146, 0, 393224, 65538, 0, 393220, 262146, 0, 327683, 524290, 0, 131075, 65538, 0, 131078, 393217, 0, 131077, 262145, 0, 131076, 131074, 0, 393221, 196610, 0, 393222, 786434, 0, 393223, 2, 0, 327684, 720898, 0, 196615, 262146, 0, 327688, 65538, 0, 262152, 65538, 0, 196611, 65538, 0, 262147, 196610, 0, 262148, 65538, 0, 0, 65538, 0, 1, 65538, 0, 2, 65538, 0, 3, 65538, 0, 4, 65538, 0, 5, 65538, 0, 65541, 589825, 0, 458757, 262146, 0, 196613, 65538, 0, 458756, 786434, 0, 458758, 786434, 0, 196612, 65538, 0, 196614, 262146, 0)
layer_1/name = ""
layer_1/enabled = true
layer_1/modulate = Color(1, 1, 1, 1)
layer_1/y_sort_enabled = false
layer_1/y_sort_origin = 0
layer_1/z_index = 0
layer_1/tile_data = PackedInt32Array()

[node name="enemy" type="Node2D" parent="." groups=["Characters"]]
position = Vector2(212, 219)
script = ExtResource("3_b3x52")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="enemy"]
sprite_frames = SubResource("SpriteFrames_2e5gl")

[node name="Character" type="Node2D" parent="." groups=["Characters"]]
position = Vector2(357, 222)
script = ExtResource("2_orlut")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Character"]
material = SubResource("CanvasItemMaterial_6hxa4")
sprite_frames = SubResource("SpriteFrames_lc3ap")

[node name="Cursor" type="Node2D" parent="."]
script = ExtResource("2_mmgio")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Cursor"]
material = SubResource("CanvasItemMaterial_ms5fv")
sprite_frames = SubResource("SpriteFrames_04mv1")
offset = Vector2(-16, 15)
script = ExtResource("4_vejum")

[node name="Pathfinding" type="Node" parent="."]
script = ExtResource("7_tpcjv")

[node name="PriorityQueue" type="Node" parent="."]
script = SubResource("GDScript_vfnxh")
